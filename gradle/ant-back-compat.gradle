// Ant backward compatibility. All of this should be gone at some point.

allprojects {
  tasks.withType(Test) { task ->
    // Exclude inner classes from testing.
    exclude '**/*$*'
  }
}

allprojects {
  plugins.withType(JavaPlugin) {
    // Adapt to custom folder convention.
    sourceSets {
      main.java.srcDirs = ['src/java']
      main.resources.srcDirs = ['src/resources']
      test.java.srcDirs = ['src/test']
      test.resources.srcDirs = ['src/test-files']
    }
  }
}
